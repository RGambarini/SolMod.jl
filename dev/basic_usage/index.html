<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Basic Usage · SolMod</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://RGambarini.github.io/SolMod.jl/main/basic_usage/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/logo.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="SolMod logo"/></a><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../background/">Background</a></li><li class="is-active"><a class="tocitem" href>Basic Usage</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Binary-Curve"><span>Binary Curve</span></a></li><li class="toplevel"><a class="tocitem" href="#Ternary-Phase-Diagram"><span>Ternary Phase Diagram</span></a></li><li class="toplevel"><a class="tocitem" href="#Next-Steps"><span>Next Steps</span></a></li></ul></li><li><span class="tocitem">Available Models</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Empirical Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../AvailableModels/NRTL/">NRTL</a></li><li><a class="tocitem" href="../AvailableModels/UNIQUAC/">UNIQUAC</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Semi-Empirical Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../AvailableModels/NRTL-SAC/">NRTL-SAC</a></li><li><a class="tocitem" href="../AvailableModels/UNIQUAC-SAC/">UNIQUAC-SAC</a></li></ul></li><li><a class="tocitem" href="../AvailableModels/CustomModel/">Custom Model</a></li></ul></li><li><a class="tocitem" href="../notebook_examples/">Notebook Examples</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Basic Usage</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Basic Usage</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/RGambarini/SolMod.jl/blob/main/docs/src/basic_usage.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><p>Once SolMod.jl is installed, it can be loaded using:</p><pre><code class="language-julia hljs">using SolMod</code></pre><h1 id="Importing-Parameters"><a class="docs-heading-anchor" href="#Importing-Parameters">Importing Parameters</a><a id="Importing-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Importing-Parameters" title="Permalink"></a></h1><p>We import our parameters from .xlsx files that contain the dataframe necessary to produce a solubility calculation. This format is used to exploit the use of sheets as the parameters for different solvents. The first sheet contains the calorimetric data of the enantiomeric molecule and the racemate:</p><table><tr><th style="text-align: center">fusΔH</th><th style="text-align: center">Tm</th><th style="text-align: center">fusΔH_rac</th><th style="text-align: center">Tm_rac</th></tr><tr><td style="text-align: center">24,500</td><td style="text-align: center">404.65</td><td style="text-align: center">25,600</td><td style="text-align: center">387.75</td></tr></table><p>The data frame is imported as a dictionary to the workspace. When specifying parameters of 3 components, the function will automatically import the calorimetric properties of the racemate as well:</p><pre><code class="language-julia hljs">params = NRTL_importParameters(dir, 3)

params[&quot;Solute&quot;] = 24500  404.65  25600  387.75</code></pre><p>The parameters specify the interaction values determined from either experimental or predicted values. Interaction parameters are model specific, in this case we will use those defined by the NRTL model:</p><table><tr><th style="text-align: center">⍺_1</th><th style="text-align: center">⍺_2</th><th style="text-align: center">⍺_3</th><th style="text-align: center">g_1</th><th style="text-align: center">g_2</th><th style="text-align: center">g_3</th></tr><tr><td style="text-align: center">0</td><td style="text-align: center">0.98</td><td style="text-align: center">0.40</td><td style="text-align: center">0</td><td style="text-align: center">216,631</td><td style="text-align: center">25,269</td></tr><tr><td style="text-align: center">0.98</td><td style="text-align: center"></td><td style="text-align: center">0</td><td style="text-align: center">0.40</td><td style="text-align: center">141,879</td><td style="text-align: center">0</td></tr><tr><td style="text-align: center">0.40</td><td style="text-align: center">0.40</td><td style="text-align: center">0</td><td style="text-align: center">-3,235.60</td><td style="text-align: center">-3,235.60</td><td style="text-align: center">0</td></tr></table><p>The dataframe is imported as a dictionary with the key entry labelled as the solvent used:</p><pre><code class="language-julia hljs">params[&quot;Solvent&quot;][&quot;⍺&quot;] = [0         0.979748  0.40104
                          0.979748  0         0.40104
                          0.40104   0.40104   0      ]

params[&quot;Solvent&quot;][&quot;g&quot;] = [0       216631  25269
                          141879  0       25269
                          -3235.6 -3235.6 0    ]</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Although SolMod.jl imports parameters from .xlsx files, nothing stops you from creating the parameter dataframes directly in Julia. Parameters in SolMod.jl are read as dictionaries. Examples like the one above are shown to demonstrate the output of the import function and how to replicate it yourself.</p></div></div><h1 id="Binary-Curve"><a class="docs-heading-anchor" href="#Binary-Curve">Binary Curve</a><a id="Binary-Curve-1"></a><a class="docs-heading-anchor-permalink" href="#Binary-Curve" title="Permalink"></a></h1><p>With the parameters imported, we can use the model to determine the activity coefficient. We want to predict a solubility curve for the S-enantiomer. The curve will range from  <span>$298 K$</span>  to  <span>$334 K$</span>  and an initial guess of the composition:</p><pre><code class="language-julia hljs">NRTL_solubilityCurve(params, [298, 334], &quot;Solvent&quot;, guess = 0.12, components = 3)</code></pre><p>We can also obtain an error analysis using SolMod.jl. We will get an output of the residuals from the experimental data and the RMSD (Root Mean Square Deviation). The RMSD of predicted values  <span>$\hat{x}$</span>  for times a with variables observed over  <span>$A$</span>  times, is computed for  <span>$A$</span>  different predictions as the square root of the mean of the squares of the deviations:</p><p class="math-container">\[RMSD = \sqrt{\dfrac{\sum_{a=1}^A{(\hat{x}_a - x_a)^2}}{|A|}}\]</p><pre><code class="language-julia hljs">errorAnalysis(model, experimental, 2)</code></pre><h1 id="Ternary-Phase-Diagram"><a class="docs-heading-anchor" href="#Ternary-Phase-Diagram">Ternary Phase Diagram</a><a id="Ternary-Phase-Diagram-1"></a><a class="docs-heading-anchor-permalink" href="#Ternary-Phase-Diagram" title="Permalink"></a></h1><p>Now we can do what this software was created for and predict ternary phase behaviour. We want to start by defining the method we will use to calculate the activity coefficient for component <strong>i</strong> (S-enantiomer) and for component <strong>j</strong> (R-enantiomer). For example calculating the activity coefficient using the NRTL model at  <span>$298 K$</span> :</p><pre><code class="language-julia hljs">γi() = NRTL_activityCoefficient(params, &quot;Solvent&quot;, 298)
γj() = NRTL_activityCoefficient(params, &quot;Solvent&quot;, 298, e = false)</code></pre><p>Once the activity coefficient methods are set, we want to check solubility over every possible point at a specific temperature using the ternaryPhase function:</p><pre><code class="language-julia hljs">model = ternaryPhase(params, γi, γj, 298)</code></pre><p>Similar to before we can obtain the error analysis related to the ternary phase diagram with the same function as before but increasing the number of components to 3:</p><pre><code class="language-julia hljs">errorAnalysis(model, experimental, 3)</code></pre><h1 id="Next-Steps"><a class="docs-heading-anchor" href="#Next-Steps">Next Steps</a><a id="Next-Steps-1"></a><a class="docs-heading-anchor-permalink" href="#Next-Steps" title="Permalink"></a></h1><p>After this is done, we can either plot the diagrams inside Julia using <a href="https://github.com/jacobusmmsmit/TernaryPlots.jl">TernaryPlots.jl</a> or using <a href="https://github.com/JuliaPy/PyCall.jl">PyCall</a> to plot with <a href="https://github.com/marcharper/python-ternary">Matplotlib</a> or <a href="https://plotly.com/python/ternary-plots/">Plotly</a>. </p><p>If Julia is not your software of choice for plotting, then you can make use of SolMod&#39;s export features an save the dataframe created as an .xlsx file:</p><pre><code class="language-julia hljs">exportTernaryPhase(model, &quot;TPD.xlsx&quot;)</code></pre><p>This process can then be repeated across multiple temperatures and using different activity coefficient methods. One of the goals of this project was modularity. The many ways to obtain the activity coefficient requires the user to employ various methods to obtain accurate predictions. By separating the method to obtain the activity coefficient with the prediction of solubility we give the user the freedom to experiment with the calculations.</p><p>After learning the basic usage of this software you can read a more thorough analysis with results using the jupyter notebooks in the <a href="https://rgambarini.github.io/SolMod.jl/dev/notebook_examples/">notebook examples</a> section, read more on the various models available, or <a href="https://rgambarini.github.io/SolMod.jl/dev/AvailableModels/CustomModels/">export an existing method</a> to calculate the activity coefficient.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../background/">« Background</a><a class="docs-footer-nextpage" href="../AvailableModels/NRTL/">NRTL »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Friday 8 July 2022 16:46">Friday 8 July 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
